## Important: This repo is deprecated in favor of https://github.com/ton-community/blueprint (the new all in one tool for creating new TON projects)

---

# üé∞ TON Jetton Wallet —Å –∫–æ–º–∏—Å—Å–∏–µ–π –∏ –ª–æ—Ç–µ—Ä–µ–µ–π

–°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç Jetton Wallet –¥–ª—è TON –±–ª–æ–∫—á–µ–π–Ω–∞ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫–æ–º–∏—Å—Å–∏–∏ –∏ –ª–æ—Ç–µ—Ä–µ–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **6% –∫–æ–º–∏—Å—Å–∏—è** —Å –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–æ–∫–µ–Ω–æ–≤
- **–õ–æ—Ç–µ—Ä–µ—è 1/66** —Å –±–æ–Ω—É—Å–æ–º +2% –¥–ª—è –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º –ª–æ—Ç–µ—Ä–µ–∏
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –∞–¥—Ä–µ—Å** –¥–ª—è —Å–±–æ—Ä–∞ –∫–æ–º–∏—Å—Å–∏–π

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –û–±—ã—á–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ (65/66 —Å–ª—É—á–∞–µ–≤)
```
–ò—Å—Ö–æ–¥–Ω–∞—è —Å—É–º–º–∞: 1,000,000 —Ç–æ–∫–µ–Ω–æ–≤
‚îú‚îÄ‚îÄ –ö–æ–º–∏—Å—Å–∏—è (6%): 60,000 —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí –∞–¥—Ä–µ—Å –∫–æ–º–∏—Å—Å–∏–∏
‚îî‚îÄ‚îÄ –ü–æ–ª—É—á–∞—Ç–µ–ª—é (94%): 940,000 —Ç–æ–∫–µ–Ω–æ–≤
```

### –í—ã–∏–≥—Ä—ã—à –≤ –ª–æ—Ç–µ—Ä–µ–µ (1/66 —Å–ª—É—á–∞–µ–≤)
```
–ò—Å—Ö–æ–¥–Ω–∞—è —Å—É–º–º–∞: 1,000,000 —Ç–æ–∫–µ–Ω–æ–≤
‚îú‚îÄ‚îÄ –ö–æ–º–∏—Å—Å–∏—è (6%): 60,000 —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí –∞–¥—Ä–µ—Å –∫–æ–º–∏—Å—Å–∏–∏
‚îú‚îÄ‚îÄ –ü–æ–ª—É—á–∞—Ç–µ–ª—é (94%): 940,000 —Ç–æ–∫–µ–Ω–æ–≤
‚îî‚îÄ‚îÄ –ë–æ–Ω—É—Å –ª–æ—Ç–µ—Ä–µ–∏ (+2%): +18,800 —Ç–æ–∫–µ–Ω–æ–≤
    –ò—Ç–æ–≥–æ –ø–æ–ª—É—á–∞—Ç–µ–ª—é: 958,800 —Ç–æ–∫–µ–Ω–æ–≤ (95.88%)
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ token-contract/
‚îÇ   ‚îú‚îÄ‚îÄ ft/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ jetton-wallet.fc      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç
‚îÇ   ‚îú‚îÄ‚îÄ lottery-test.ts           # –¢–µ—Å—Ç—ã –ª–æ—Ç–µ—Ä–µ–∏
‚îÇ   ‚îú‚îÄ‚îÄ commission-test.ts        # –¢–µ—Å—Ç—ã –∫–æ–º–∏—Å—Å–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT_GUIDE.md       # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ test/                         # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ FINAL_IMPLEMENTATION.md       # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ LOTTERY_FEATURES.md           # –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –ª–æ—Ç–µ—Ä–µ–∏
‚îî‚îÄ‚îÄ COMMISSION_IMPLEMENTATION.md  # –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–∏
```

## üé≤ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–æ—Ç–µ—Ä–µ–∏

- **–®–∞–Ω—Å –≤—ã–∏–≥—Ä—ã—à–∞**: 1/66 (‚âà1.515%)
- **–†–∞–∑–º–µ—Ä –±–æ–Ω—É—Å–∞**: +2% –æ—Ç —Å—É–º–º—ã –ø–æ—Å–ª–µ –∫–æ–º–∏—Å—Å–∏–∏
- **–ß–∞—Å—Ç–æ—Ç–∞**: –ø—Ä–∏–º–µ—Ä–Ω–æ 1 –≤—ã–∏–≥—Ä—ã—à –Ω–∞ 66 –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- **–ê–¥—Ä–µ—Å –∫–æ–º–∏—Å—Å–∏–∏**: `UQ_YOUR_COMMISSION_ADDRESS_HERE` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

## ÔøΩÔøΩ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥—Ä–µ—Å–∞ –∫–æ–º–∏—Å—Å–∏–∏
```bash
# –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–¥—Ä–µ—Å –∫–æ–º–∏—Å—Å–∏–∏
# –°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ COMMISSION_SETUP.md
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏
```bash
# –¢–µ—Å—Ç –ª–æ—Ç–µ—Ä–µ–∏
npx mocha test/lottery-test.ts --require ts-node/register

# –¢–µ—Å—Ç –∫–æ–º–∏—Å—Å–∏–∏  
npx mocha test/commission-test.ts --require ts-node/register
```

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
```bash
cd token-contract/ft
bash compile.sh
```

## üí∞ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

- **–î–æ—Ö–æ–¥—ã**: 6% –∫–æ–º–∏—Å—Å–∏—è —Å –∫–∞–∂–¥–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
- **–†–∞—Å—Ö–æ–¥—ã**: 2% –±–æ–Ω—É—Å—ã –ø–æ–±–µ–¥–∏—Ç–µ–ª—è–º (‚âà1.515% –æ—Ç –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤)
- **–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å**: ‚âà4.485% –æ—Ç –≤—Å–µ—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## üìã –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```
‚úî should calculate commission correctly
‚úî should calculate lottery bonus correctly  
‚úî should calculate total amount with lottery win
‚úî should verify lottery probability
‚úî should handle edge cases for small amounts
‚úî should verify commission address format
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–≤–µ–¥–æ–º–ª—è–π—Ç–µ –æ 6% –∫–æ–º–∏—Å—Å–∏–∏
2. **–ì–∞–∑**: –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ TON –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –≥–∞–∑–∞ –Ω–∞ 2-3 —Å–æ–æ–±—â–µ–Ω–∏—è
3. **–ê—É–¥–∏—Ç**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∞—É–¥–∏—Ç –∫–æ–¥–∞ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ testnet

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

Apache-2.0

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests –∏ issues –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞
